#!/usr/bin/env python2
# -*- coding: utf-8 -*-
"""
Created on Tue Aug 15 12:00:06 2017

@author: zhangchi
"""

class Solution(object):
    # 思路：第二位是0的，第一位最小的，会先被放入结果中，然后第一位大于等于刚被放入结果中的，第二位都相应减1，重复这一过程
    # 比后面这个快一些，但是还能优化
    # 这个是自己想的
    def reconstructQueue(self, people):
        """
        :type people: List[List[int]]
        :rtype: List[List[int]]
        """
        dic = {}
        people.sort(key=lambda x:x[1])
        for item in people:
            if item[0] not in dic:
                dic[item[0]] = [0,[item[1]]]
            else:
                dic[item[0]][1].append(item[1])
        result = []
        while len(people) > 0:
            # 只找最前面的就好了，不用整个排序，降低复杂度
            value = float('inf')
            for item in people:
                if item[1] == 0:
                    value = min(value, item[0])
            result.append([value,dic[value][1][dic[value][0]]])
            dic[value][0] += 1
            temp = []
            for item in people:
                if item[0] == value and item[1] == 0:
                    pass
                elif item[0] <= value:
                    temp.append([item[0],item[1]-1])
                else:
                    temp.append(item)
            people = temp
        return result
        
# =============================================================================
#     def reconstructQueue(self, people):
#         """
#         :type people: List[List[int]]
#         :rtype: List[List[int]]
#         """
#         dic = {}
#         people.sort(key=lambda x:x[1])
#         for item in people:
#             if item[0] not in dic:
#                 dic[item[0]] = [0,[item[1]]]
#             else:
#                 dic[item[0]][1].append(item[1])
#         result = []
#         while len(people) > 0:
#             people.sort(key=lambda x:x[0])
#             people.sort(key=lambda x:x[1])
#             value = people.pop(0)[0]
#             result.append([value,dic[value][1][dic[value][0]]])
#             dic[value][0] += 1
#             temp = []
#             for item in people:
#                 if item[0] <= value:
#                     temp.append([item[0],item[1]-1])
#                 else:
#                     temp.append(item)
#             people = temp
#         return result
# =============================================================================
    
s = Solution()
#a = [[7,0], [4,4], [7,1], [5,0], [6,1], [5,2]]
a = [[57115,708],[344019,648],[220851,219],[774787,106],[316153,98],[168133,229],[43914,862],[723562,218],[701812,53],[371392,107],[782692,156],[585923,94],[745702,191],[984211,3],[775096,165],[785758,186],[481106,392],[716492,210],[294815,709],[133596,796],[777750,105],[615209,385],[300213,166],[227118,431],[274789,104],[248130,651],[340564,590],[9206,136],[321869,186],[324065,673],[238867,161],[292890,226],[764828,189],[969589,24],[448452,534],[695316,224],[130985,274],[365403,391],[492747,341],[141133,94],[285513,387],[959576,15],[211014,399],[145669,221],[920561,75],[190922,405],[886271,104],[345703,326],[898603,87],[995797,1],[307750,61],[36936,531],[152336,137],[31790,921],[838779,76],[753124,52],[754977,231],[251201,92],[412412,227],[48529,704],[430901,106],[620548,347],[175890,524],[438492,377],[462879,232],[293807,55],[996816,1],[902255,52],[941457,63],[427010,73],[181562,275],[924464,14],[597513,134],[166264,216],[959864,41],[606442,66],[907370,22],[127156,85],[894604,89],[524594,109],[507888,487],[275456,610],[815277,174],[48267,691],[395546,307],[826693,97],[4310,353],[165915,562],[232734,66],[736078,216],[935666,17],[730970,216],[278851,263],[76445,537],[934396,3],[989935,7],[892045,53],[78002,297],[371690,533],[590180,186],[912989,25],[406667,406],[397820,602],[37062,656],[448215,279],[917358,23],[378125,23],[622720,218],[50197,561],[287125,543],[438180,459],[857769,6],[154508,539],[425672,26],[627894,45],[595520,233],[946245,21],[343238,452],[63073,267],[792036,25],[397309,161],[256187,677],[577091,45],[36437,710],[111994,493],[541876,151],[130968,69],[334002,621],[582735,188],[961297,38],[818961,141],[594697,40],[980228,8],[609498,188],[506645,483],[417405,367],[714440,176],[904491,79],[988628,9],[287504,580],[778181,152],[536681,317],[287458,302],[697565,26],[368523,350],[901145,85],[948891,15],[501661,86],[868189,52],[653408,46],[855938,77],[343750,359],[778175,68],[402720,366],[957539,9],[685205,137],[833335,166],[641217,11],[415147,45],[372052,530],[15057,763],[334697,209],[766780,188],[563574,224],[325578,587],[621233,377],[781810,148],[801442,124],[668681,77],[555898,12],[173136,83],[378250,475],[288515,690],[625524,305],[733273,276],[664164,333],[495632,85],[772020,211],[50531,879],[701519,144],[332313,215],[625677,302],[540655,175],[181862,467],[220377,208],[109445,422],[31600,578],[137703,370],[839760,84],[329709,527],[37138,735],[467798,470],[549887,337],[302457,472],[726037,17],[14148,982],[413388,576],[917313,4],[165198,583],[642235,70],[51584,179],[373997,569],[597939,365],[915125,62],[407918,583],[944539,2],[338524,607],[974323,1],[375525,588],[827124,142],[838558,42],[71892,841],[566995,310],[806931,37],[683085,294],[798340,195],[224472,772],[10165,105],[422147,500],[850244,68],[316929,185],[569051,116],[649746,88],[969377,26],[138496,88],[926143,41],[217741,525],[620421,148],[949884,41],[24020,440],[974391,3],[821123,134],[511965,5],[70330,464],[257917,261],[217972,529],[711703,72],[376042,330],[266229,40],[158967,495],[81858,688],[719259,145],[514934,93],[27157,790],[198105,241],[801153,198],[855284,13],[423094,493],[934444,12],[326657,322],[625567,314],[59543,83],[213948,101],[162325,291],[650032,128],[848896,35],[663325,162],[603198,73],[591804,149],[109339,676],[842631,88],[956813,12],[48599,605],[255610,486],[760005,113],[319700,494],[472223,458],[147567,601],[11984,443],[112466,329],[409645,446],[749117,78],[110427,125],[71116,483],[956831,2],[904586,29],[46017,572],[200345,722],[397607,30],[761673,121],[465261,207],[917092,64],[110059,829],[45979,66],[930771,17],[32862,244],[34596,741],[681702,186],[859015,102],[189833,369],[521438,363],[261129,573],[668551,169],[399195,524],[872734,69],[208618,268],[910072,64],[734570,113],[967051,19],[977497,12],[71478,823],[937463,57],[840163,159],[337207,380],[556917,371],[524403,278],[27320,54],[878660,9],[100321,114],[318485,104],[180200,211],[710236,69],[530568,457],[368071,512],[666021,226],[574048,218],[292789,625],[231791,293],[951996,25],[186480,771],[988308,9],[211597,453],[718902,274],[272083,233],[745,997],[673882,81],[651341,28],[376243,1],[969447,20],[737078,174],[26445,214],[396293,216],[121937,589],[401064,216],[971323,9],[674783,168],[614149,105],[135590,726],[288019,658],[459373,317],[835136,84],[563461,266],[326173,262],[584176,187],[362380,102],[236503,650],[198918,509],[5226,479],[297406,249],[568116,397],[792502,71],[88980,757],[816098,36],[66343,341],[367994,509],[622342,151],[916029,26],[828293,29],[131125,496],[304487,568],[172980,692],[850532,76],[371903,413],[701314,143],[76672,807],[889885,95],[916240,4],[123568,501],[414049,282],[380098,200],[318550,304],[163351,833],[437997,552],[423542,340],[825604,98],[444350,165],[817201,144],[751559,174],[114587,832],[617122,246],[807234,84],[360755,22],[395727,319],[538754,119],[947645,39],[436982,244],[510489,44],[669792,293],[159495,518],[995688,3],[747178,196],[917383,84],[20172,692],[899831,24],[995128,2],[775010,203],[503595,129],[729913,143],[414644,473],[737257,27],[595022,347],[750561,162],[162161,43],[623656,120],[34303,726],[442362,270],[197203,125],[53801,886],[254786,146],[725842,220],[520965,283],[462314,507],[95020,333],[399162,305],[828258,44],[744613,49],[363546,332],[502801,197],[650846,106],[553239,77],[467361,401],[436351,543],[538160,289],[548894,222],[655196,278],[690294,302],[713053,23],[254568,508],[484654,365],[743829,40],[331249,237],[933199,56],[351160,233],[557130,268],[387536,397],[131635,238],[204404,609],[849265,63],[712476,126],[198455,744],[874026,14],[185046,44],[145489,2],[654762,313],[398163,349],[104068,19],[440598,263],[666051,139],[477504,490],[622929,57],[152410,225],[814652,99],[210306,281],[799924,117],[824259,110],[323580,10],[397965,400],[328134,504],[863160,143],[146542,862],[238783,161],[794669,22],[527490,290],[536452,189],[604107,329],[910825,5],[953612,13],[552041,273],[972926,3],[592277,62],[646552,83],[692876,184],[472410,317],[763967,5],[735180,191],[103537,717],[108957,779],[255472,23],[171880,542],[393119,341],[776255,211],[228807,184],[952074,11],[885808,78],[579988,42],[20847,49],[298506,315],[655576,284],[52097,743],[104061,787],[109352,592],[748566,217],[2463,887],[32976,784],[189617,713],[271058,374],[429296,560],[809090,29],[998215,0],[707975,94],[707997,174],[872633,84],[462266,327],[721819,246],[794759,163],[606300,247],[861636,122],[340414,537],[808027,149],[632228,327],[180653,461],[28313,405],[178779,349],[491800,194],[84267,610],[561867,183],[485487,268],[213404,566],[380259,581],[431017,521],[865840,116],[351585,261],[636938,338],[570504,134],[796618,49],[36055,627],[533904,467],[256880,38],[242864,751],[216746,142],[467702,372],[479771,237],[4082,91],[976362,6],[164757,759],[248446,270],[283539,110],[235362,12],[55323,815],[458676,235],[630251,72],[84579,727],[590590,312],[851426,1],[28996,937],[717246,290],[632555,335],[923439,59],[13888,618],[690885,82],[183242,456],[705690,59],[125140,470],[223780,575],[41792,816],[344536,638],[87662,811],[537475,215],[161140,87],[954032,37],[512858,342],[249680,233],[475082,520],[413260,367],[838425,103],[435392,280],[900253,99],[166697,735],[944264,1],[342482,240],[802181,114],[9241,17],[243076,524],[869986,90],[597238,1],[869957,41],[793504,61],[442652,537],[898397,17],[323466,136],[692994,272],[545657,171],[964936,37],[948400,26],[183540,485],[633193,49],[328932,411],[429018,148],[846072,156],[826896,133],[796394,196],[967870,21],[907165,64],[545323,2],[421294,464],[952487,35],[208154,308],[96271,722],[400702,213],[672001,238],[24745,751],[429650,91],[183202,816],[207128,83],[666902,249],[965469,8],[965537,8],[802398,25],[727002,96],[292453,553],[916965,18],[474981,61],[39916,613],[452831,349],[864326,33],[293996,564],[205660,91],[434825,85],[402489,151],[784195,157],[255808,161],[624491,203],[611449,63],[663777,82],[850741,142],[489949,477],[409934,258],[786335,179],[206644,394],[822516,16],[356656,553],[687112,104],[554811,74],[138548,847],[891434,72],[647847,8],[377313,155],[471652,43],[624029,374],[59234,745],[287600,614],[706802,10],[205852,630],[538773,94],[923201,5],[420894,558],[737184,84],[480685,224],[960392,36],[122023,25],[816168,161],[125244,130],[750887,76],[606230,396],[529518,430],[238470,483],[746249,176],[251593,591],[698626,239],[887569,77],[778146,141],[840718,73],[473152,95],[354719,574],[925537,41],[820531,32],[477694,308],[804774,160],[184889,49],[392597,358],[569538,165],[686029,282],[32248,484],[639169,318],[68632,68],[380683,256],[229337,224],[265522,725],[685888,280],[986736,13],[938717,58],[401051,178],[297099,193],[59803,669],[766367,103],[390884,512],[430898,259],[58320,61],[404090,430],[454918,167],[726897,96],[970409,2],[753853,1],[768504,22],[681921,144],[610160,219],[451467,324],[17833,771],[938574,43],[456600,215],[357840,469],[422101,378],[922341,26],[809452,11],[505530,246],[47189,743],[95160,196],[766056,83],[194185,530],[383844,393],[72703,22],[422246,122],[132048,643],[269240,229],[781887,107],[956713,2],[518947,7],[722386,94],[651692,65],[459200,228],[655423,35],[335066,661],[604296,308],[980286,15],[956354,13],[741667,54],[186746,792],[984273,14],[260054,64],[850682,59],[385503,193],[381560,486],[720801,203],[256914,106],[697454,231],[913027,37],[592327,163],[731157,127],[838461,162],[154861,105],[574449,123],[101760,129],[484362,369],[136219,848],[207767,61],[556669,289],[113030,130],[429249,277],[394319,168],[185642,151],[681801,198],[594457,60],[819949,55],[501218,303],[83781,646],[78044,245],[268277,327],[815225,117],[749253,16],[613301,175],[681627,260],[918602,76],[914800,84],[39810,516],[725219,134],[625765,95],[62315,150],[444898,72],[577770,318],[54024,466],[563816,209],[577956,36],[218785,238],[973815,5],[188317,482],[871181,117],[255233,139],[992238,0],[550093,82],[961077,24],[737643,201],[795088,178],[480751,40],[594057,293],[518845,317],[825333,73],[868796,25],[614255,0],[444944,52],[765757,173],[314197,596],[919772,3],[381003,427],[416116,200],[279640,414],[966376,25],[496144,248],[194778,457],[439048,444],[483538,436],[785426,215],[25496,155],[564810,174],[560540,47],[230302,428],[924304,43],[319456,461],[280603,385],[785634,73],[111612,856],[830878,71],[164871,10],[202977,559],[345020,82],[585478,188],[759810,192],[501895,170],[329225,605],[835666,90],[149446,118],[581226,195],[445090,220],[752538,88],[371707,327],[320870,649],[306577,626],[639191,194],[301088,498],[561342,370],[468160,18],[736858,96],[789305,46],[987437,6],[577057,411],[250610,732],[925238,11],[75616,469],[615648,65],[694242,90],[900980,93],[933610,36],[893135,92],[166549,403],[298036,163],[580226,95],[677468,120],[916894,74],[701659,107],[467046,204],[624772,262],[577054,298],[161521,460],[533177,107],[882606,105],[24136,203],[431327,6],[182039,313],[68427,1],[560978,335],[200885,795],[512531,169],[297005,550],[780651,72],[514519,473],[839441,14],[29098,349],[917216,54],[870254,77],[778828,217],[237012,432],[873478,93],[764488,104],[431673,299],[670123,275],[651108,60],[60809,671],[839582,149],[472374,399],[401657,57],[574246,17],[504242,121],[790459,159],[250256,511],[449400,222],[894610,41],[122594,486],[105196,785],[564119,250],[367555,486],[917094,53],[571076,272],[406912,135],[104407,424],[294732,709],[984705,13],[684761,219],[427736,332],[982066,2],[991275,0],[425329,354],[698569,168],[132946,834],[493787,407],[248677,147],[874686,63],[550446,298],[578912,187],[223060,66],[214647,139],[444704,173],[971475,22],[237027,65],[118762,510],[469492,280],[325922,17],[486221,484],[410241,185],[257325,529],[989675,2],[198099,375],[687167,80],[409217,107],[819101,188],[603207,391],[510023,404],[726197,270],[484950,215],[546482,167],[822750,105],[166582,616],[518150,56],[133822,371],[200406,717],[97871,657],[29573,492],[691109,65],[808741,150],[750266,18],[822040,179],[306681,522],[214393,88],[894715,102],[704205,272],[180183,605],[329765,484],[406200,499],[295252,640],[650762,169],[521668,46],[176279,482],[203608,594],[714798,128],[617015,146],[826144,119],[340650,594],[562244,279],[111793,634],[304040,26],[906078,7],[856098,84],[93397,699],[953959,26],[598922,306],[636273,293],[50466,815],[716599,184],[329928,672],[531336,43],[91251,896],[987084,8],[184120,562],[941743,29],[21485,362],[923492,43],[714683,230],[895730,48],[371388,382],[835312,109],[864921,22],[769458,47],[879842,32],[643820,253],[488630,144],[405344,585],[955381,3],[390744,120],[491755,250],[771000,128],[179915,296],[921832,78],[306396,251],[607328,127],[678963,264],[944460,0],[354103,544],[435690,513],[3615,433],[213496,429],[129860,560],[105082,551]]
print s.reconstructQueue(a)
# =============================================================================
#         dic = {}
#         for item in people:
#             if item[1] in dic:
#                 dic[item[1]].append(item[0])
#             else:
#                 dic[item[1]] = [item[0]]
# =============================================================================
